<!doctype html>
<html lang="en">
  <script>
const DUCK_URL = 'https://duck.ai/'; // replace with real URL

// Register service worker (keep relative path)
if ('serviceWorker' in navigator) navigator.serviceWorker.register('sw.js').catch(()=>{});

// Helper: are we running as an installed PWA (standalone)?
function isStandalone() {
  return window.matchMedia('(display-mode: standalone)').matches
    || window.navigator.standalone === true;
}

// If running as installed PWA, open Duck.ai inside the PWA window.
// If not installed, show the install UI / link and do not redirect immediately.
(async function() {
  // Wait a short time so browser can finish startup and correctly report display-mode.
  await new Promise(r => setTimeout(r, 150));

  if (isStandalone()) {
    // Navigate within the PWA window (not handing the URL to Firefox normal tab)
    // Use location.replace so no extra history entry is left.
    location.replace(https://duck.ai/);
  } else {
    // Not installed: show a visible link or install prompt on the page.
    // Optionally auto-open after a longer user-visible delay:
    // setTimeout(() => location.href = DUCK_URL, 4000);
  }
})();
</script>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Duck.ai</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#000000">
  <link rel="icon" href="icon-192.png">
  <meta name="mobile-web-app-capable" content="yes">
  <meta http-equiv="refresh" content="0;url=https://duck.ai/">
  <script>
    // Fast JS redirect (faster than meta refresh)
    (function(){
      var target = "https://duck.ai/";
      if (location.href !== target) {
        location.replace(target);
      }
    })();
    
    const isStandalone = window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone === true;
if (isStandalone) {
  location.replace('https://duck.ai/');
}

if (window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone) {
  // small delay gives the app time to become visible
  setTimeout(() => location.replace('https://duck.ai/'), 200);
}
    
    // Register service worker for this origin (keeps PWA installable)
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js').catch(console.error);
    }
  </script>
</head>
<body>
  <noscript>
    <meta http-equiv="refresh" content="0;url=https://duck.ai/">
    <p>If you are not redirected, <a href="https://duck.ai/">open Duck.ai</a>.</p>
  </noscript>
</body>
</html>







